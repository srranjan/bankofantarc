# bankofantarc
Version 1: In this, I was able to build and dockerize the spring boot in Cloudbees CI and upload it to docker hub using
the docker hub credentials.
The starting point was an earlier react sevice where I had incoportated many observability type of stuff and also probably 
service mesh, but those artifacts are unused in the case. Rather, in this version 1, the whole k8s artifacts are not used.
We shall go for higher version from here.
Many of the things given below are out of context, just used in the initial phase to prepare the groundwork.
The only important thing is that Cloudbees workflow yaml flow downloaded from github where it was generated by Cloudbees CI and 
which worked.
Also, the pom.xml might be somewhat outdated and may require cleanup and update later on. However, a trivial junit test works and produces reports also, and this base can be used to create more rigorous junit cases later.

The most important addition to the old code base is the jenkinsfile and the Cloudbees CI workflow yaml, both of which were tested successfully.
Some general tips gathered (not germane to the main context here):
Jenkins on ubuntu very own workspace;
/var/lib/jenkins/workspace
Probably 2 commands used if the remote has changed and you wish to see the difference: 
git fetch origin
git diff main origin/main
Now if I add the following, this will sync the local to remote, and the diff will disappear, of course:
git merge origin/main


So, better ignore everything written below. And modernize pom.xml and complete junit cases in future, if possible.
I repeat, ignore everthing below, it was just one time cleanup act.

cd /home/rranjan/devops/bankofantarc/secondreact3flavors/secondreact3flavors
cd /home/rranjan/devops1/secondreact3flavors
mvn -B -DskipTests clean package

Shortest way to install docker:
 curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

sudo groupadd docker
sudo usermod -aG docker $USER
And for docker-componse:
curl -SL https://github.com/docker/compose/releases/download/v2.29.0/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

cd mysql
sudo docker-compose -f docker-compose-onlyMySQL.yml up

sudo apt install mysql-client-core-8.0

mysql -h 127.0.0.1 -P 3306 -u root -p
CREATE DATABASE corecruddb;
use corecruddb;
source createschema.sql;

cd ..
jar -jar target/secondreactv2-0.0.1-SNAPSHOT.jar

curl http://localhost:9095/backsvc/clients
curl http://localhost:9095/backsvc/clients2
curl http://localhost:9095/backsvc/clients3

The 3 URLs above are working at this juncture, so far, so good. 
So far, we have tested the maven binaries and the docker mysql.

Phase 2:
In the second phase, I was able to do the tiny work of creatig a Jenkisfile that gets the stuff from github and does successful 
maven build and test in the local Jenkins server.
Phaset 3:
 In the more important third phase, I was able to create an Integration and component in Cloudbees CI SaaS dashboard and     link  it to     https://github.com/srranjan/bankofantarc and complete the script successfully in this github project  and then carry out the maven and docker build and push the stuff to  docker hub. This functionality is captured in the script in the .cloudbees folder.
So far so good.
 
